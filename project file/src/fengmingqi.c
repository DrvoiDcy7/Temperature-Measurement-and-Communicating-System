
#include "MSP430G2553.h"
#include "DAC8411.h"

#define SYSCLK 			12000000		//当前主时钟频率
#define AWG_FREQ 		20					//AWG信号频率
#define SAMPLENUM     	925				//采样点数
extern void delay1s();

const unsigned int Data1[200]={
		0,
		41254,
		0,
		41254,
		0,
				41254,
				0,
				41254,
				0,
						41254,
						0,
						41254,
						0,
								41254,
								0,
								41254,
								0,
										41254,
										0,
										41254,
										0,
												41254,
												0,
												41254,
												0,
														41254,
														0,
														41254,
														0,
																41254,
																0,
																41254,
																0,
																		41254,
																		0,
																		41254,
																		0,
																				41254,
																				0,
																				41254,
                                 0,
								 		41254,
								 		0,
								 		41254,
										0,
												41254,
												0,
												41254,
												0,
														41254,
														0,
														41254,
														0,
																41254,
																0,
																41254,
																0,
																0,
																		41254,
																		0,
																		41254,
																		0,
																			41254,
																			0,
																			41254,
																			0,
																					41254,
																					0,
																					41254,
																					0,
																							41254,
																							0,
																							41254,
																							0,
																									41254,
																									0,
																									41254,
																									0,
																											41254,
																											0,
																											41254,
																											0,
																													41254,
																													0,
																													41254,
																													0,
																															41254,
																															0,
																															41254,
																															0,
																																	41254,
																																	0,
																																	41254,
																																	0,
																																			41254,
																																			0,
																																			41254,
																																			0,
																																					41254,
																																					0,
																																					41254,
																	                                 0,
																									 		41254,
																									 		0,
																									 		41254,
																											0,
																													41254,
																													0,
																													41254,
																													0,
																															41254,
																															0,
																															41254,
																															0,
																																	41254,
																																	0,
																																	41254,
																																	0,
																																	0,
																																			41254,
																																			0,
																																			41254,
																																			0,
																																				41254,
																																				0,
																																				41254,
																																				0,
																																						41254,
																																						0,
																																						41254,
																																						0,
																																								41254,
																																								0,
																																								41254,
																																								0,
																																										41254,
																																										0,
																																										41254,
																																										0,
																																												41254,
																																												0,
																																												41254,
																																												0,
																																														41254,
																																														0,
																																														41254,
																																														0,
																																																41254,
																																																0,
																																																41254,
																																																0,
																																																		41254,
																																																		0,
																																																		41254,
																																																		0,
																																																				41254,
																																																				0,
																																																				41254,
																																																				0,
																																																						41254,
																																																						0,
																																																						41254,
																																		                                 0,
																																										 		41254,
																																										 		0,
																																										 		41254,
																																												0,
																																														41254,
																																														0,
																																														41254,
																																														0,
																																																41254,
																																																0,
																																																41254,
																																																0,
																																																		41254,
																																																		0,
																																																		41254,
																																																		0,
																																																		0,
																																																				41254,
																																												                                 0,
																																																																					 		41254,
																																																																					 		0,
																																																																					 		41254,
																																																																							0,
																																																																									41254,
																																																																									0,
																																																																									41254,
																																																																									0,
																																																																											41254,
																																																																											0,
																																																																											41254,
																																																																											0,
																																																																													41254,
																																																																													0,
																																																																													41254,
																																																																													0,
																																																																													0,
																																																																															41254,
																																																																															0,
																																																																															4125
};
 void Time0_A_Init();
 void TA0_OnTime();
 /******************************************************************************************************
  * 名       称：Time0_A_Init()
  * 功       能：初始化TA0
  * 入口参数：无
  * 出口参数：无
  * 说       明：就是初始化相关IO的状态
  * 范       例：无
  ******************************************************************************************************/
 void Time0_A_Init()
 {
   delay1s();
   TA0_OnTime();
 }

 /******************************************************************************************************
  * 名       称： TA0_OnTime()
  * 功       能：TA0的定时事件处理函数
  * 入口参数：无
  * 出口参数：无
  * 说       明：无
  * 范       例：无
  ******************************************************************************************************/
 void TA0_OnTime()
 {

 	int i=0;
 	for(i=0;i<200;i++)
 	{
 		write2DAC8411(Data1[i]);
 	if(i>SAMPLENUM) i=0;
 	}
 }
//-------------------------------------------------------------------------------------------------------
